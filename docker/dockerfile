FROM alpine:3.8
MAINTAINER chishin <pro@xxgzs.org>

WORKDIR /
ENV VERSION 0.0.2
ENV PORT 9090
ENV KEY false

RUN apk update && \
    apk add ca-certificates && \
    update-ca-certificates && \
    apk --no-cache add openssl wget && \
    mkdir /web && \
    cd /web && \
    # wget https://github.com/xiaoxinpro/WolGoWeb/releases/download/V${VERSION}/WolGoWeb_${VERSION}_linux_amd64 -O ./WolGoWeb && \
    wget https://github.com/xiaoxinpro/WolGoWeb/raw/master/docker/WolGoWeb_Linux_amd64 -O ./WolGoWeb  && \
    rm -rf WolGoWeb_${VERSION}_linux_amd64 && \
    chmod 777 /web/WolGoWeb

VOLUME /web

EXPOSE $PORT

CMD /web/WolGoWeb -port $PORT -key $KEY

